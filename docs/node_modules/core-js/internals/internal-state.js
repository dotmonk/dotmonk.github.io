import NATIVE_WEAK_MAP from'./native-weak-map.js';import global from'./global.js';import isObject from'./is-object.js';import createNonEnumerableProperty from'./create-non-enumerable-property.js';import has from'./has.js';import shared from'./shared-store.js';import sharedKey from'./shared-key.js';import hiddenKeys from'./hidden-keys.js';const _ref={exports:{}};(function(module,exports){var set,get,has$1,OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap=global.WeakMap,enforce=function enforce(it){return has$1(it)?get(it):set(it,{})},getterFor=function getterFor(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}};if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap),wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){if(wmhas.call(store,it))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return metadata.facade=it,wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has$1=function(it){return wmhas.call(store,it)};}else {var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){if(has(it,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return metadata.facade=it,createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return has(it,STATE)?it[STATE]:{}},has$1=function(it){return has(it,STATE)};}module.exports={set:set,get:get,has:has$1,enforce:enforce,getterFor:getterFor};})(_ref,_ref.exports);var _ref2 = _ref.exports;export default _ref2;