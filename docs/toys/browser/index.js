import t,{Component as c}from"../../_snowpack/pkg/react.js";import d from"../../Router.js";class p extends c{constructor(e){super(e);this.audioContext=new AudioContext,this.state={}}objectToMap(e,o=0){let n=Object.keys(e);if(o>6)return;if(n.length===0){const r=Object.getPrototypeOf(e);if(["[object OfflineResourceList]","[object Storage]"].includes(String(r)))return;n=Object.keys(r)}if(n.length===0)return;const l={};for(const r of n){const s=e===e[r]?"self":typeof e[r],i=String(e[r]),a=s==="object"&&e[r]!==null?this.objectToMap(e[r],o+1):void 0;l[r]={type:s,preview:i,children:a}}return l}componentDidMount(){this.setState({data:this.objectToMap(window)})}generateTable(e){return e?t.createElement("table",{id:"report",style:{border:"solid 1px var(--nyx-color-text)"}},t.createElement("tr",null,t.createElement("th",null,"attribute"),t.createElement("th",null,"typeof(attribute)"),t.createElement("th",null,"preview")),Object.keys(e).sort().map((o,n)=>t.createElement("tr",{key:n},t.createElement("td",{style:{borderTop:"solid 1px var(--nyx-color-text)"}},o),t.createElement("td",{style:{borderTop:"solid 1px var(--nyx-color-text)"}},e[o].type),t.createElement("td",{style:{borderTop:"solid 1px var(--nyx-color-text)"}},e[o].preview,e[o].children?this.generateTable(e[o].children||{}):"")))):null}render(){const{data:e}=this.state;return t.createElement(d,{hashRegex:/^\/Toys\/Browser/},t.createElement("div",null,t.createElement("h4",null,"Reported data"),this.generateTable(e)))}}export default p;
